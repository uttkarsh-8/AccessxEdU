<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})"
      xmlns:form="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Home Page</title>
    <link rel="stylesheet" th:href="@{/css/login.css}">
</head>
<body>
<section>
    <div class="section">
        <div class="container">
            <div class="row full-height justify-content-center">
                <div class="col-12 text-center align-self-center py-5">
                    <div class="section pb-5 pt-5 pt-sm-2 text-center">
                        <div class="card-3d-wrap mx-auto">
                            <div style="height: 400px" class="card-3d-wrapper">
                                <div class="card-front">
                                    <div class="center-wrap">
                                        <div class="section text-center">

                                            <div class="container">
                                                <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
                                                <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
                                            </div>

                                            <form novalidate th:action="@{/do_register}" id="contact-form" role="form" method="post"
                                                  th:object="${user}">

                                            <h4 class="mb-4 pb-3">Sign Up</h4>

                                            <div class="form-group">
                                                <i class="fa-solid fa-user mb-3 pt-3 me-2"></i>
                                                <input  th:value="${user.name}" name="name" type="text" class="form-style" placeholder="Full Name" th:classappend="${#fields.hasErrors('name')?'is-invalid':''}">
                                                <div th:each="e:${#fields.errors('name')}" class="invalid-feedback" th:text="${e}">
                                                </div>
                                            </div>

                                            <div class="form-group mt-2">
                                                <i class="fa-solid fa-envelope mb-3 pt-3 me-2"></i>
                                                <input th:value="${user.email}" name="email" type="email" class="form-style" placeholder="Email" th:classappend="${#fields.hasErrors('email')?'is-invalid':''}">

                                                <div th:each="e:${#fields.errors('email')}" class="invalid-feedback" th:text="${e}"></div>

                                                <div th:if="${duplicateEmail}" class="alert alert-danger" th:text="${duplicateEmail}"></div>

                                                <i class="input-icon uil uil-at"></i>
                                            </div>

                                            <div class="form-group mt-2">
                                                <i class="fa-solid fa-key mb-3 pt-3 me-2"></i>
                                                <input th:value="${user.password}" name="password" type="password" class="form-style" placeholder="Password" th:classappend="${#fields.hasErrors('password')?'is-invalid':''}">

                                                <div th:each="e:${#fields.errors('password')}" class="invalid-feedback" th:text="${e}">
                                                </div>

                                                <i class="input-icon uil uil-lock-alt"></i>
                                            </div>
                                                <div class="container text-center">
                                                <input type="submit" class="btn btn-send  btn-block mt-4
                                                    " value="Register" >
                                                </div>

                                                <div class="mt-4 text-center">
                                                    <p>Already a user? <a th:href="@{/signin}">Log in here</a></p>
                                                </div>

                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</section>
</body>
</html>
